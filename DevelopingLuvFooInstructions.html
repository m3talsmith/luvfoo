<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html
  PUBLIC "-//W3C//DTD XHTML 1.1 plus MathML 2.0//EN" "http://www.w3.org/TR/MathML2/dtd/xhtml-math11-f.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"><!--This file was converted to xhtml by OpenOffice.org - see http://xml.openoffice.org/odf2xhtml for more info.--><head profile="http://dublincore.org/documents/dcmi-terms/"><meta http-equiv="Content-Type" content="text/html; charset=utf-8"/><title xml:lang="en-US">- no title specified</title><meta name="DCTERMS.title" content="" xml:lang="en-US"/><meta name="DCTERMS.language" content="en-US" scheme="DCTERMS.RFC4646"/><meta name="DCTERMS.source" content="http://xml.openoffice.org/odf2xhtml"/><meta name="DCTERMS.creator" content="Brandon"/><meta name="DCTERMS.issued" content="2009-03-03T12:02:00" scheme="DCTERMS.W3CDTF"/><meta name="DCTERMS.modified" content="2009-03-05T15:28:23" scheme="DCTERMS.W3CDTF"/><meta name="DCTERMS.provenance" content="" xml:lang="en-US"/><meta name="DCTERMS.subject" content="," xml:lang="en-US"/><link rel="schema.DC" href="http://purl.org/dc/elements/1.1/" hreflang="en"/><link rel="schema.DCTERMS" href="http://purl.org/dc/terms/" hreflang="en"/><link rel="schema.DCTYPE" href="http://purl.org/dc/dcmitype/" hreflang="en"/><link rel="schema.DCAM" href="http://purl.org/dc/dcam/" hreflang="en"/><base href="."/><style type="text/css">
	@page { size: 8.5in 11in; margin-top: 1in; margin-bottom: 1in; margin-left: 1in; margin-right: 1in }
	table { border-collapse:collapse; border-spacing:0; empty-cells:show }
	td, th { vertical-align:top; font-size:12pt;}
	h1, h2, h3, h4, h5, h6 { clear:both }
	ol, ul { margin:0; padding:0;}
	li { list-style: none; margin:0; padding:0;}
	li span.odfLiEnd { clear: both; line-height:0; width:0; height:0; margin:0; padding:0; }
	span.footnodeNumber { padding-right:1em; }
	* { margin:0; }
	.gr1 { font-size:12pt; padding-top:0.0902in; padding-bottom:0.0902in; padding-left:0.1736in; padding-right:0.1736in; vertical-align:top; }
	.P1 { font-size:10pt; line-height:115%; margin-bottom:0.139in; margin-top:0in; text-align:left ! important; font-family:Verdana; }
	.P10 { font-size:10pt; line-height:100%; margin-bottom:0in; margin-top:0.1945in; text-align:left ! important; font-family:Verdana; margin-left:0.5in; margin-right:0in; text-indent:-0.25in; }
	.P11 { font-size:10pt; line-height:100%; margin-bottom:0in; margin-top:0.1945in; text-align:left ! important; font-family:Verdana; margin-left:0.5in; margin-right:0in; text-indent:-0.25in; }
	.P12 { font-size:11pt; line-height:100%; margin-bottom:0in; margin-top:0in; text-align:left ! important; font-family:Calibri; margin-left:0.5in; margin-right:0in; text-indent:-0.25in; }
	.P13 { font-size:11pt; line-height:100%; margin-bottom:0in; margin-top:0in; text-align:left ! important; font-family:Calibri; margin-left:0.5in; margin-right:0in; text-indent:-0.25in; }
	.P14 { font-size:10pt; line-height:100%; margin-bottom:0in; margin-top:0in; text-align:left ! important; font-family:Verdana; margin-left:0.5in; margin-right:0in; text-indent:-0.25in; font-weight:bold; }
	.P15 { font-size:10pt; line-height:100%; margin-bottom:0in; margin-top:0in; text-align:left ! important; font-family:Verdana; margin-left:0.5in; margin-right:0in; text-indent:-0.25in; }
	.P16 { font-size:10pt; line-height:100%; margin-bottom:0in; margin-top:0in; text-align:left ! important; font-family:Verdana; margin-left:0.5in; margin-right:0in; text-indent:-0.25in; }
	.P17 { font-size:10pt; line-height:100%; margin-bottom:0in; margin-top:0in; text-align:left ! important; font-family:Verdana; margin-left:0.5in; margin-right:0in; text-indent:-0.25in; }
	.P18 { font-size:10pt; line-height:100%; margin-bottom:0in; margin-top:0in; text-align:left ! important; font-family:Verdana; margin-left:0.5in; margin-right:0in; text-indent:-0.25in; }
	.P19 { font-size:11pt; line-height:100%; margin-bottom:0.1945in; margin-top:0in; text-align:left ! important; font-family:Calibri; margin-left:0.5in; margin-right:0in; text-indent:-0.25in; }
	.P2 { font-size:11pt; line-height:100%; margin-bottom:0.1665in; margin-top:0in; text-align:left ! important; font-family:Calibri; }
	.P20 { font-size:10pt; line-height:100%; margin-bottom:0.1945in; margin-top:0in; text-align:left ! important; font-family:Verdana; margin-left:0.5in; margin-right:0in; text-indent:-0.25in; }
	.P21 { font-size:10pt; line-height:100%; margin-bottom:0.1945in; margin-top:0in; text-align:left ! important; font-family:Verdana; margin-left:0.5in; margin-right:0in; text-indent:-0.25in; }
	.P22 { font-size:10pt; line-height:100%; margin-bottom:0.1945in; margin-top:0in; text-align:left ! important; font-family:Verdana; margin-left:0.5in; margin-right:0in; text-indent:-0.25in; }
	.P23 { font-size:10pt; line-height:100%; margin-bottom:0.1945in; margin-top:0in; text-align:left ! important; font-family:Verdana; margin-left:0.5in; margin-right:0in; text-indent:-0.25in; }
	.P24 { font-size:10pt; line-height:100%; margin-bottom:0.1665in; margin-top:0in; text-align:left ! important; font-family:Verdana; margin-left:0.5in; margin-right:0in; text-indent:-0.25in; }
	.P25 { font-size:10pt; line-height:100%; margin-bottom:0.1945in; margin-top:0.1945in; text-align:left ! important; font-family:Verdana; margin-left:0.5in; margin-right:0in; text-indent:-0.25in; }
	.P26 { font-size:10pt; line-height:100%; margin-bottom:0in; margin-top:0in; text-align:left ! important; font-family:Verdana; margin-left:1in; margin-right:0in; text-indent:-0.25in; }
	.P27 { font-size:10pt; line-height:100%; margin-bottom:0in; margin-top:0in; text-align:left ! important; font-family:Verdana; margin-left:1in; margin-right:0in; text-indent:-0.25in; }
	.P28 { font-size:10pt; line-height:100%; margin-bottom:0in; margin-top:0in; text-align:left ! important; font-family:Verdana; margin-left:1in; margin-right:0in; text-indent:-0.25in; }
	.P29 { font-size:11pt; line-height:100%; margin-bottom:0.1945in; margin-top:0in; text-align:left ! important; font-family:Calibri; margin-left:1in; margin-right:0in; text-indent:-0.25in; }
	.P3 { font-size:10pt; line-height:100%; margin-bottom:0.1665in; margin-top:0in; text-align:left ! important; font-family:Verdana; }
	.P30 { font-size:10pt; line-height:100%; margin-bottom:0.1945in; margin-top:0in; text-align:left ! important; font-family:Verdana; margin-left:1in; margin-right:0in; text-indent:-0.25in; }
	.P31 { font-size:10pt; line-height:100%; margin-bottom:0.1945in; margin-top:0in; text-align:left ! important; font-family:Verdana; margin-left:1in; margin-right:0in; text-indent:-0.25in; }
	.P32 { font-size:11pt; line-height:100%; margin-bottom:0in; margin-top:0in; text-align:left ! important; font-family:Calibri; }
	.P33 { font-size:10pt; line-height:100%; margin-bottom:0in; margin-top:0in; text-align:left ! important; font-family:Calibri; }
	.P34 { font-size:10pt; line-height:100%; margin-bottom:0in; margin-top:0in; text-align:left ! important; font-family:Verdana; }
	.P35 { font-size:10pt; line-height:100%; margin-bottom:0in; margin-top:0in; text-align:left ! important; font-family:Verdana; }
	.P36 { font-size:10pt; line-height:100%; margin-bottom:0in; margin-top:0in; text-align:left ! important; font-family:Verdana; }
	.P37 { font-size:11pt; line-height:100%; margin-bottom:0in; margin-top:0in; text-align:left ! important; font-family:Calibri; }
	.P38 { font-size:10pt; line-height:100%; margin-bottom:0.1945in; margin-top:0.1945in; text-align:left ! important; font-family:Verdana; font-weight:bold; }
	.P39 { font-size:10pt; line-height:100%; margin-bottom:0.1945in; margin-top:0.1945in; text-align:left ! important; font-family:Verdana; }
	.P4 { font-size:10pt; line-height:100%; margin-bottom:0.1665in; margin-top:0in; text-align:left ! important; font-family:Verdana; }
	.P40 { font-size:12pt; font-family:Times New Roman; }
	.P5 { font-size:11pt; line-height:100%; margin-bottom:0in; margin-top:0.1945in; text-align:left ! important; font-family:Calibri; margin-left:0.5in; margin-right:0in; text-indent:-0.25in; }
	.P6 { font-size:11pt; line-height:100%; margin-bottom:0in; margin-top:0.1945in; text-align:left ! important; font-family:Calibri; margin-left:0.5in; margin-right:0in; text-indent:-0.25in; }
	.P7 { font-size:11pt; line-height:100%; margin-bottom:0in; margin-top:0.1945in; text-align:left ! important; font-family:Calibri; margin-left:0.5in; margin-right:0in; text-indent:-0.25in; }
	.P8 { font-size:11pt; line-height:100%; margin-bottom:0in; margin-top:0.1945in; text-align:left ! important; font-family:Calibri; margin-left:0.5in; margin-right:0in; text-indent:-0.25in; }
	.P9 { font-size:10pt; line-height:100%; margin-bottom:0in; margin-top:0.1945in; text-align:left ! important; font-family:Verdana; margin-left:0.5in; margin-right:0in; text-indent:-0.25in; }
	.Internet_20_link { color:#0000ff; text-decoration:underline; }
	.Source_20_Text { font-family:Courier New; }
	.T11 { font-family:Verdana; font-size:10pt; font-weight:bold; }
	.T12 { font-family:Verdana; font-size:10pt; }
	.T13 { font-family:Verdana; font-size:10pt; }
	.T14 { font-family:Verdana; font-size:10pt; }
	.T15 { color:#0000ff; font-family:Verdana; font-size:10pt; text-decoration:underline; }
	.T16 { font-family:Verdana; font-size:10pt; }
	.T2 { font-size:10pt; font-weight:bold; }
	.T3 { font-family:Verdana; font-size:10pt; font-weight:bold; }
	.T4 { font-family:Verdana; font-size:10pt; }
	.T5 { font-family:Verdana; font-size:10pt; }
	.T6 { font-family:Verdana; font-size:10pt; text-decoration:underline; font-weight:bold; }
	.T7 { font-family:Verdana; font-size:10pt; text-decoration:underline; font-weight:bold; }
	.T8 { font-family:Verdana; font-size:10pt; font-style:italic; }
	.T9 { font-family:Times New Roman; font-size:10pt; }
	.WW8Num7z0 { font-family:Symbol; font-size:10pt; }
	.WW8Num7z1 { font-family:Courier New; font-size:10pt; }
	.WW8Num7z2 { font-family:Wingdings; font-size:10pt; }
	.WW8Num8z0 { font-family:Symbol; font-size:10pt; }
	.WW8Num8z1 { font-family:Courier New; font-size:10pt; }
	.WW8Num8z2 { font-family:Wingdings; font-size:10pt; }
	<!-- ODF styles with no properties representable as CSS -->
	{ }
	</style></head><body dir="ltr" style="max-width:8.5in;margin-top:1in; margin-bottom:1in; margin-left:1in; margin-right:1in; background-color:#ffffff; "><p class="P4">This tutorial explains how to get Luvfoo going on your local Windows machine and deploy it to a Linux server. It assumes that you have a technical background, have never developed with Ruby on Rails, and are starting from ground zero on your machine. To develop and deploy Luvfoo you:</p><ul><li><p class="P5" style="margin-left:1.27cm;"><span class="WW8Num7z0" style="display:block;float:left;min-width:0cm;">.</span><span class="T3">Install</span><span class="T4"> </span><span class="odfLiEnd"/> </p><ul><li><p class="P26" style="margin-left:2.54cm;"><span class="WW8Num7z1" style="display:block;float:left;min-width:0cm;">.</span>Command Prompt Here <span class="odfLiEnd"/> </p></li><li><p class="P26" style="margin-left:2.54cm;"><span class="WW8Num7z1" style="display:block;float:left;min-width:0cm;">.</span>Ruby (language), Ruby on Rails (web application framework), and Ruby Gems (package manager) <span class="odfLiEnd"/> </p></li><li><p class="P26" style="margin-left:2.54cm;"><span class="WW8Num7z1" style="display:block;float:left;min-width:0cm;">.</span>Aptana Studio and RadRails (Ruby on Rails Development Environment) <span class="odfLiEnd"/> </p></li><li><p class="P26" style="margin-left:2.54cm;"><span class="WW8Num7z1" style="display:block;float:left;min-width:0cm;">.</span>MySQL (database) <span class="odfLiEnd"/> </p></li><li><p class="P26" style="margin-left:2.54cm;"><span class="WW8Num7z1" style="display:block;float:left;min-width:0cm;">.</span>Git (version control system) <span class="odfLiEnd"/> </p></li><li><p class="P26" style="margin-left:2.54cm;"><span class="WW8Num7z1" style="display:block;float:left;min-width:0cm;">.</span>Capistrano (deployment tool) <span class="odfLiEnd"/> </p></li><li><p class="P26" style="margin-left:2.54cm;"><span class="WW8Num7z1" style="display:block;float:left;min-width:0cm;">.</span>PuTTY (SSH client) <span class="odfLiEnd"/> </p></li><li><p class="P30" style="margin-left:2.54cm;"><span class="WW8Num7z1" style="display:block;float:left;min-width:0cm;">.</span>GetText for Windows (translation file utilities) <span class="odfLiEnd"/> </p></li></ul></li></ul><ul><li><p class="P14" style="margin-left:1.27cm;"><span class="WW8Num8z0" style="display:block;float:left;min-width:0cm;">.</span>Develop<span class="odfLiEnd"/> </p><ul><li><p class="P27" style="margin-left:2.54cm;"><span class="WW8Num8z1" style="display:block;float:left;min-width:0cm;">.</span>Retrieve Luvfoo from git hub <span class="odfLiEnd"/> </p></li><li><p class="P27" style="margin-left:2.54cm;"><span class="WW8Num8z1" style="display:block;float:left;min-width:0cm;">.</span>Install RMagick <span class="odfLiEnd"/> </p></li><li><p class="P27" style="margin-left:2.54cm;"><span class="WW8Num8z1" style="display:block;float:left;min-width:0cm;">.</span>Install Luvfoo gem dependencies <span class="odfLiEnd"/> </p></li><li><p class="P27" style="margin-left:2.54cm;"><span class="WW8Num8z1" style="display:block;float:left;min-width:0cm;">.</span>Configure Luvfoo <span class="odfLiEnd"/> </p></li><li><p class="P27" style="margin-left:2.54cm;"><span class="WW8Num8z1" style="display:block;float:left;min-width:0cm;">.</span>Set up databases for Luvfoo <span class="odfLiEnd"/> </p></li><li><p class="P27" style="margin-left:2.54cm;"><span class="WW8Num8z1" style="display:block;float:left;min-width:0cm;">.</span>Run Luvfoo on your computer <span class="odfLiEnd"/> </p></li><li><p class="P27" style="margin-left:2.54cm;"><span class="WW8Num8z1" style="display:block;float:left;min-width:0cm;">.</span>Merge the latest Luvfoo code from the master branch into another branch <span class="odfLiEnd"/> </p></li><li><p class="P27" style="margin-left:2.54cm;"><span class="WW8Num8z1" style="display:block;float:left;min-width:0cm;">.</span>Run the Luvfoo tests <span class="odfLiEnd"/> </p></li><li><p class="P27" style="margin-left:2.54cm;"><span class="WW8Num8z1" style="display:block;float:left;min-width:0cm;">.</span>Set up an Aptana Studio project for working on Luvfoo <span class="odfLiEnd"/> </p></li><li><p class="P27" style="margin-left:2.54cm;"><span class="WW8Num8z1" style="display:block;float:left;min-width:0cm;">.</span>Update translation files <span class="odfLiEnd"/> </p></li><li><p class="P27" style="margin-left:2.54cm;"><span class="WW8Num8z1" style="display:block;float:left;min-width:0cm;">.</span>Commit changes to a Luvfoo branch ssss <span class="odfLiEnd"/> </p></li><li><p class="P27" style="margin-left:2.54cm;"><span class="WW8Num8z1" style="display:block;float:left;min-width:0cm;">.</span>Push Luvfoo changes to github<span class="odfLiEnd"/> </p></li></ul></li><li><p class="P14" style="margin-left:1.27cm;"><span class="WW8Num8z0" style="display:block;float:left;min-width:0cm;">.</span>Deploy to a Linux server<span class="odfLiEnd"/> </p><ul><li><p class="P27" style="margin-left:2.54cm;"><span class="WW8Num8z1" style="display:block;float:left;min-width:0cm;">.</span>Generate a private / public key pair and copy your public key to the remote server <span class="odfLiEnd"/> </p></li><li><p class="P27" style="margin-left:2.54cm;"><span class="WW8Num8z1" style="display:block;float:left;min-width:0cm;">.</span>Deploy Luvfoo to the remote server <span class="odfLiEnd"/> </p></li><li><p class="P27" style="margin-left:2.54cm;"><span class="WW8Num8z1" style="display:block;float:left;min-width:0cm;">.</span>Diagnose and fix problems on the server <span class="odfLiEnd"/> </p></li><li><p class="P31" style="margin-left:2.54cm;"><span class="WW8Num8z1" style="display:block;float:left;min-width:0cm;">.</span>Restart mongrel<span class="odfLiEnd"/> </p></li></ul></li></ul><p class="P32"><span class="T4"><br/>For additonal support, consider accessing or joining the </span><a href="http://groups.google.com/group/luvfoo"><span class="Internet_20_link"><span class="T13">Luvfoo Google group</span></span></a><span class="T4"> or visiting the #luvfoo irc channel. To see what the Luvfoo core developers are working on and planning, see the </span><a href="http://twb1.enpraxis.net/projects/twbtools/report/1"><span class="Internet_20_link"><span class="T13">Trac instance set up for Luvfoo</span></span></a><span class="T4">.</span></p><p class="P33"><p> </p></p><p class="P38">Install</p><p class="P38">Command Prompt Here</p><p class="P32"><span class="T4">You are going to be doing a lot of things from the command prompt. </span><a href="http://www.fileformat.info/tip/microsoft/cmd_prompt_here.htm"><span class="Internet_20_link"><span class="T13">Setting up "Command Prompt Here"</span></span></a><span class="T4"> makes it so you can open a command prompt in the directory that you are viewing in Windows Explorer.</span></p><p class="P34"> </p><ol><li><p class="P9" style="margin-left:1.27cm;"><span class="" style="display:block;float:left;min-width:0cm;">1.</span>Open Windows Explorer <span class="odfLiEnd"/> </p></li><li><p class="P12" style="margin-left:1.27cm;"><span class="" style="display:block;float:left;min-width:0cm;">2.</span><span class="T4">Choose </span><span class="T5">Tools</span><span class="T9">→</span><span class="T5">Folder Options...</span><span class="T4"> </span><span class="odfLiEnd"/> </p></li><li><p class="P12" style="margin-left:1.27cm;"><span class="" style="display:block;float:left;min-width:0cm;">3.</span><span class="T4">Switch to the </span><span class="T5">File Types</span><span class="T4"> tab </span><span class="odfLiEnd"/> </p></li><li><p class="P12" style="margin-left:1.27cm;"><span class="" style="display:block;float:left;min-width:0cm;">4.</span><span class="T4">Select </span><span class="T5">Folder</span><span class="T4"> from the list and press the </span><span class="T5">Advanced</span><span class="T4"> button. </span><span class="odfLiEnd"/> </p></li><li><p class="P12" style="margin-left:1.27cm;"><span class="" style="display:block;float:left;min-width:0cm;">5.</span><span class="T4">Choose </span><span class="T5">New</span><span class="T4"> </span><span class="odfLiEnd"/> </p></li><li><p class="P12" style="margin-left:1.27cm;"><span class="" style="display:block;float:left;min-width:0cm;">6.</span><span class="T4">Give it a nice name like "Command Prompt Here" and the application </span><span class="T5">c:\windows\system32\cmd.exe /K cd "%1"</span><span class="T4"> </span><span class="odfLiEnd"/> </p></li><li><p class="P19" style="margin-left:1.27cm;"><span class="" style="display:block;float:left;min-width:0cm;">7.</span><span class="T5">OK</span><span class="T4">, </span><span class="T5">OK</span><span class="T4"> and </span><span class="T5">OK</span><span class="T4"> to save it. </span><span class="odfLiEnd"/> </p></li></ol><p class="P34"> </p><p class="P32"><span class="T4">Credits: I copied this verbatim from </span><a href="http://www.fileformat.info/tip/microsoft/cmd_prompt_here.htm"><span class="Internet_20_link"><span class="T13">FileFormat.info</span></span></a><span class="T4">.</span></p><p class="P38">Ruby (language), Ruby on Rails (web application framework), and Ruby Gems (package manager) </p><p class="P32"><a href="http://www.ruby-lang.org/en/"><span class="Internet_20_link"><span class="T13">Ruby</span></span></a><span class="T4"> is the flexible and fun :-) programming language from Japan made popular by the productive </span><a href="http://www.rubyonrails.org/"><span class="Internet_20_link"><span class="T13">Ruby on Rails</span></span></a><span class="T4"> web application framework. Third party Ruby libraries are called Gems. Ruby Gems is the standard Ruby package manager, similar to apt-get, emerge, and other OS package managers.<br/><br/>Luvfoo is a web application written on top of the Ruby on Rails framework. Follow these </span><a href="http://www.rubyonrails.org/down"><span class="Internet_20_link"><span class="T13">instructions on installing Ruby, Ruby on Rails, and Ruby Gems</span></span></a><span class="T4"> to get started. As of 10/3/08 the following versions are recommended: </span><a href="http://rubyforge.org/frs/download.php/29263/ruby186-26.exe"><span class="Internet_20_link"><span class="T13">Ruby 1.8.6-26</span></span></a><span class="T4">, </span><a href="http://rubyforge.org/frs/download.php/43986/rubygems-1.3.0.zip"><span class="Internet_20_link"><span class="T13">Ruby Gems 1.3.0</span></span></a><span class="T4">, and Ruby on Rails 2.1.1.</span></p><ol><li><p class="P6" style="margin-left:1.27cm;"><span class="" style="display:block;float:left;min-width:0cm;">1.</span><span class="T4">Download and run the </span><a href="http://rubyforge.org/frs/download.php/29263/ruby186-26.exe"><span class="Internet_20_link"><span class="T13">Ruby 1.8.6-26 install</span></span></a><span class="T4"> </span><span class="odfLiEnd"/> </p></li><li><p class="P13" style="margin-left:1.27cm;"><span class="" style="display:block;float:left;min-width:0cm;">2.</span><span class="T4">Download and extract </span><a href="http://rubyforge.org/frs/download.php/43986/rubygems-1.3.0.zip"><span class="Internet_20_link"><span class="T13">Ruby Gems 1.3.0</span></span></a><span class="T4"> then open a command prompt to the folder you extracted it to and run <br/>ruby setup.rb </span><span class="odfLiEnd"/> </p></li><li><p class="P15" style="margin-left:1.27cm;"><span class="" style="display:block;float:left;min-width:0cm;">3.</span>Install Rails <br/><span style="margin-left:0cm"/>gem install -v=2.1.1 rails<br/><span style="margin-left:0cm"/>Specifying the -v=2.1.1 option will ensure you get version 2.1.1. of rails which is the latest version it has been tested on. It should work on later versions, but you would need to change the following line in config/environment.rb<br/><span style="margin-left:0cm"/>RAILS_GEM_VERSION = '2.1.1' <span class="odfLiEnd"/> </p></li><li><p class="P20" style="margin-left:1.27cm;"><span class="" style="display:block;float:left;min-width:0cm;">4.</span>Add github to the list of gem sources (some of the gems that Luvfoo uses are hosted on github):<br/><span style="margin-left:0cm"/>gem sources -a http://gems.github.com<span class="odfLiEnd"/> </p></li></ol><p class="P38">Install Aptana Studio and RadRails (Ruby on Rails Development Environment) </p><p class="P32"><span class="T4">The core Ruby on Rails developers develop on Macs and shun us Windows users :-) They swear by (and point business to) a commercial editor called </span><a href="http://macromates.com/"><span class="Internet_20_link"><span class="T13">Textmate</span></span></a><span class="T4">. On Windows, the awesome open source </span><a href="http://www.eclipse.org/"><span class="Internet_20_link"><span class="T13">Eclipse</span></span></a><span class="T4"> IDE is my favorite. </span><a href="http://www.aptana.com/"><span class="Internet_20_link"><span class="T13">Aptana</span></span></a><span class="T4"> has developed a variant of Eclipse (Aptana Studio) and Ruby on Rails plugins for Aptana Studio and Eclipse that make things easier. </span><a href="http://www.aptana.com/studio/download/"><span class="Internet_20_link"><span class="T13">Download Aptana Studio</span></span></a><span class="T4"> (117 MB) or go with your favorite editor (please don't say Notepad :-).</span></p><p class="P34"> </p><ol><li><p class="P7" style="margin-left:1.27cm;"><span class="" style="display:block;float:left;min-width:0cm;">1.</span><span class="T4">Download and install </span><a href="http://www.aptana.com/studio/download/"><span class="Internet_20_link"><span class="T13">Aptana Studio 1.2</span></span></a><span class="T4"> (117 MB) </span><span class="odfLiEnd"/> </p></li><li><p class="P21" style="margin-left:1.27cm;"><span class="" style="display:block;float:left;min-width:0cm;">2.</span>Add the RadRails plugin (34 MB) to Aptana Studio by following the instructions at Help &gt; Open My Aptana &gt; Plugins &gt; Aptana RadRails<span class="odfLiEnd"/> </p></li></ol><p class="P38">Install MySQL (Database) </p><p class="P32"><span class="T4">Luvfoo utilizes a database on the back end. Development of Luvfoo has used </span><a href="http://www.mysql.com/"><span class="Internet_20_link"><span class="T13">MySQL, the world's most popular open source database</span></span></a><span class="T4">, but it should be use other databases such as Postgres. Download and install </span><a href="http://dev.mysql.com/downloads/mysql/5.0.html#win32"><span class="Internet_20_link"><span class="T13">MySQL Community Server edition</span></span></a><span class="T4">.</span></p><p class="P34"> </p><p class="P32"><span class="T4">Download and install </span><a href="http://dev.mysql.com/downloads/mysql/5.0.html#win32"><span class="Internet_20_link"><span class="T13">MySQL Community Server edition (Windows Essentials x86)</span></span></a><span class="T4"><br/><br/>Scroll down and click </span><span class="T15">No thanks, just take me to the downloads!</span><span class="T4"> if you don't want to register.<br/><br/>I used all of the default options when I installed MySQL except on the page that prompted me to "Please select the default character set". Here I chose "Best support for multi-lingualism" (UTF8). If you only ever are going to have English users and content, you can stick with "Standard Character Set" (latin1). <br/><br/>I also unchecked the "Modify Security Settings" this leaves the root user's password blank. This is probably ok for your development machine because it is also configured to only accept connections from itself (not other machines).<br/><br/>This sets it the MySQL server up to run on port 3306</span></p><p class="P38">Install Git (version control system) </p><p class="P32"><a href="http://git.or.cz/"><span class="Internet_20_link"><span class="T13">Git</span></span></a><span class="T4"> is a version control system like CVS or SVN (but better). Luvfoo developers use it to coordinate work. The </span><a href="http://github.com/jbasdf/luvfoo/tree/master"><span class="Internet_20_link"><span class="T13">definitive source for Luvfoo</span></span></a><span class="T4"> is hosted at </span><a href="http://github.com/"><span class="Internet_20_link"><span class="T13">github</span></span></a><span class="T4"> (an awesome free service!).<br/><br/>Follow </span><a href="http://kylecordes.com/2008/04/30/git-windows-go/"><span class="Internet_20_link"><span class="T13">Kyle's Cordes instructions on installing Git on Windows</span></span></a><span class="T4"> or the </span><a href="http://github.com/guides/using-git-and-github-for-the-windows-for-newbies"><span class="Internet_20_link"><span class="T13">shorter description on github</span></span></a><span class="T4"> to get started with Git.</span></p><p class="P34"> </p><p class="P32"><span class="T4">Download and run </span><a href="http://code.google.com/p/msysgit/downloads/list"><span class="Internet_20_link"><span class="T13">the msysgit installer</span></span></a><span class="T4"> (I tested with </span><a href="http://msysgit.googlecode.com/files/Git-1.6.0.2-preview20080923.exe"><span class="Internet_20_link"><span class="T13">Git-1.6.0.2-preview20080923.exe</span></span></a><span class="T4">)</span></p><p class="P34">I used the default options except on the page titled "Adjusting your PATH environment", I chose run Git and included Unix tools from the command prompt.</p><p class="P38">Install Capistrano (Deployment tool) </p><p class="P32"><span class="T4">Deploying Luvfoo to a Linux server can take an hour or more when done by hand, seconds when done using </span><a href="http://www.capify.org/"><span class="Internet_20_link"><span class="T13">Jamis Buck's Capistrano</span></span></a><span class="T4">. Jamis, you are the man! As stated in the </span><a href="http://www.capify.org/download"><span class="Internet_20_link"><span class="T13">Capistrano Download Instructions</span></span></a><span class="T4">, now that you have Ruby Gems installed, downloading and installing Capistrano is as easy as typing:</span></p><p class="P36">gem install capistrano</p><p class="P38">Install PuTTY (SSH Client) </p><p class="P32"><span class="T4">The standard way to talk to a Linux box is using </span><a href="http://en.wikipedia.org/wiki/Secure_Shell"><span class="Internet_20_link"><span class="T13">SSH</span></span></a><span class="T4">. Download and install </span><a href="http://www.chiark.greenend.org.uk/~sgtatham/putty/download.html"><span class="Internet_20_link"><span class="T13">PuTTY</span></span></a><span class="T4"> (a Windows SSH client) to prepare to connect. While you are at it, you may want to grab pageant, a utility that will save you from having to retype your ssh password repeatedly.</span></p><p class="P38">Install GetText for Windows</p><p class="P32"><span class="T4">GetText is a GNU translation utility used by Luvfoo to support translation into other languages. Download and install </span><a href="http://gnuwin32.sourceforge.net/packages/gettext.htm"><span class="Internet_20_link"><span class="T13">GetText for Windows</span></span></a><span class="T4">, and the bundled utilities, so that you will have </span><a href="http://gd.tuwien.ac.at/linuxcommand.org/man_pages/msgmerge1.html"><span class="Internet_20_link"><span class="T13">msgmerge</span></span></a><span class="T4"> for merging updated translation files into existing ones. </span></p><p class="P38">Install RMagick</p><p class="P32"><a href="http://rmagick.rubyforge.org/"><span class="Internet_20_link"><span class="T13">RMagick</span></span></a><span class="T4"> is an image manipulation library that Luvfoo uses. Use these instructions to </span><a href="http://rmagick.rubyforge.org/install-faq.html#win"><span class="Internet_20_link"><span class="T13">Download and Install on Windows</span></span></a><span class="T4">:</span></p><p class="P34"> </p><ol><li><p class="P8" style="margin-left:1.27cm;"><span class="" style="display:block;float:left;min-width:0cm;">1.</span><span class="T4">Download the </span><a href="http://rubyforge.org/frs/download.php/43232/RMagick-2.6.0-ImageMagick-6.4.3-6-Q8.zip"><span class="Internet_20_link"><span class="T13">rmagick-win32 gem</span></span></a><span class="T4"> from the </span><a href="http://rubyforge.org/projects/rmagick/"><span class="Internet_20_link"><span class="T13">RMagick project page</span></span></a><span class="T4"> on RubyForge. </span><span class="odfLiEnd"/> </p></li><li><p class="P16" style="margin-left:1.27cm;"><span class="" style="display:block;float:left;min-width:0cm;">2.</span>Unzip it into a temporary directory. <span class="odfLiEnd"/> </p></li><li><p class="P16" style="margin-left:1.27cm;"><span class="" style="display:block;float:left;min-width:0cm;">3.</span>Follow the instructions in the README.html.<span class="odfLiEnd"/> </p><ol><li><p class="P28" style="margin-left:2.54cm;"><span class="" style="display:block;float:left;min-width:0cm;">1.</span>Run the ImageMagick installer (ImageMagick-6.4.3-6-Q8-windows-dll.exe) found in the temporary directory.<span class="odfLiEnd"/> </p></li><li><p class="P28" style="margin-left:2.54cm;"><span class="" style="display:block;float:left;min-width:0cm;">2.</span>Open a command prompt to the temporary directory.<span class="odfLiEnd"/> </p></li><li><p class="P29" style="margin-left:2.54cm;"><span class="" style="display:block;float:left;min-width:0cm;">3.</span><span class="T4">Use gem to install rmagick<br/></span><span class="T5">gem install rmagick --local</span><span class="T4"> </span><span class="odfLiEnd"/> </p></li></ol></li></ol><p class="P33"><p> </p></p><p class="P38">Develop</p><p class="P38">Retrieve Luvfoo from git hub </p><p class="P32"><span class="T4">Now that you have installed all of that fun stuff, it is time to pull down Luvfoo. To do this, open a command prompt, go to your root projects folder and use the git clone command:<br/><br/></span><span class="T5">git clone git://github.com/jbasdf/luvfoo.git </span><span class="T4"><br/><br/>That will create a folder called </span><span class="T5">luvfoo</span><span class="T4"> and copy the source code to it. If you want to copy the source to a folder other than Luvfoo, just specify the folder name at the end:<br/><br/></span><span class="T5">git clone git://github.com/jbasdf/luvfoo.git luvfoo2</span><span class="T4"><br/><br/>Now that you have pulled the code down, you just need to install the gems (ruby libraries) that Luvfoo uses, set up some configuration files, and set up a database for Luvfoo to use.</span></p><p class="P38">Configure Luvfoo</p><p class="P34">Luvfoo utilizes a number of configuration files that you need to set up to get going:<br/><br/>config/global_config.yml<br/>config/database.yml<br/>config/initializers/mail.rb</p><p class="P34"> </p><p class="P34">Example files are included with luvfoo:</p><p class="P34"> </p><p class="P34">config/global_config.yml.example<br/>config/database.yml.example<br/>config/initializers/mail.rb.example </p><p class="P34"> </p><p class="P32"><span class="T4">Copy or rename these files to get going. <br/><br/>If you are setting up a new Luvfoo instance, you will need to obtain various keys to put in the configuration files. For example, your website will need its own reCaptcha key. To get that, register on the </span><a href="http://recaptcha.net/"><span class="Internet_20_link"><span class="T13">reCaptcha website</span></span></a><span class="T4"> and request a key.</span></p><p class="P38">Install Luvfoo gem dependencies </p><p class="P32"><span class="T4">Luvfoo depends on the gems specified in config/environment.rb. Install them using the following </span><a href="http://wiki.rubyonrails.org/rails/pages/WhatIsRakeAndWhatDoesItDo"><span class="Internet_20_link"><span class="T13">Rake</span></span></a><span class="T4"> command:<br/><br/></span><span class="T5">cd luvfoo<br/>rake gems:install</span><span class="T4"><br/><br/>Alternatively, you can install them one at a time using the gem command. For example:<br/><br/></span><span class="T5">gem install mocha</span><span class="T4"><br/><br/>If you don't get all of the Gems installed, don't worry, when you try to run Luvfoo, it will complain about the missing Gems :-)</span></p><p class="P34"> </p><p class="P34">In case you are curious, rake is a </p><p class="P38">Set up databases for Luvfoo</p><p class="P32"><span class="T4">The database that Luvfoo uses is specified in the :development section /config/database.yml . You need to create the database:<br/><br/></span><span class="T5">mysqladmin -u &lt;username&gt; -p create &lt;databasename&gt;</span><span class="T4"><br/><br/>For example:<br/><br/></span><span class="T5">mysqladmin -u root -p create luvfoo</span><span class="T4"><br/><br/>Now use rake to load the Luvfoo schema into the database:<br/><br/></span><span class="T5">rake </span><a href="db:migrate"><span class="Internet_20_link"><span class="T14">db:migrate</span></span></a></p><p class="P37"> </p><p class="P32"><span class="T6">Note:</span><span class="T5"> Windows users need to load the win32console gem before using rake to load the Luvfoo schema.  Use the following syntax to install the win32console-1.2.0-x86-mswin32-60 gem: </span></p><p class="P35">gem install win32console</p><p class="P38">Run Luvfoo on your computer</p><p class="P32"><span class="T4">Before you run Luvfoo, you need to start up the solr server that Luvfoo uses to support searching:<br/><br/></span><span class="T3">Linux &amp; Mac</span><span class="T4">: rake solr:start<br/><br/></span><span class="T3">Windows</span><span class="T4">: rake solr:start_win</span></p><p class="P37"> </p><p class="P32"><span class="T7">Note: </span><span class="T4">Windows users might run into the following error: </span><span class="Source_20_Text"><span class="T11">No connection could be made</span></span><span class="Source_20_Text"><span class="T2"> </span></span><span class="Source_20_Text"><span class="T11">because the target machine actively refused it. - connect(2).  </span></span><span class="Source_20_Text"><span class="T12">To resolve this issue, follow the steps listed in this link:</span></span></p><p class="P32"><a href="http://webonrails.com/2007/09/13/acts_as_solr-starting-solr-server-on-windows/"><span class="Internet_20_link"><span class="T16">http://webonrails.com/2007/09/13/acts_as_solr-starting-solr-server-on-windows/</span></span></a></p><p class="P37"> </p><p class="P32"><span class="Source_20_Text"><span class="T12">However, had to revert the </span></span><span class="Source_20_Text"><span class="T11">Errno::EBADF</span></span><span class="Source_20_Text"><span class="T12"> to </span></span><span class="Source_20_Text"><span class="T11">Errno::ECONNREFUSED</span></span><span class="Source_20_Text"><span class="T12"> in the modified vendor/plugins/acts_as_solr/lib/taks/solr.rake script for the solr server to start on windows.</span></span><span class="T4"><br/><br/>Now you should be ready to run Luvfoo on your machine. For convenience in development, Ruby on Rails comes with two web servers, called </span><a href="http://www.webrick.org/"><span class="Internet_20_link"><span class="T13">WEBrick</span></span></a><span class="T4"> and </span><a href="http://mongrel.rubyforge.org/"><span class="Internet_20_link"><span class="T13">Mongrel</span></span></a><span class="T4"> that can be used to run Luvfoo. Use a ruby script to run Luvfoo using WEBrick:<br/><br/></span><span class="T5">ruby script/server webrick</span></p><p class="P37"> </p><p class="P35">Populate the database with test data:</p><p class="P37"> </p><p class="P32"><span class="T5">rake luvfoo:db:populate<br/><br/></span><span class="T4">If all is not good, you will see error messages. If not, open Luvfoo in your favorite web browser: http://localhost:3000/<br/><br/></span><span class="T3">Windows Specific Note</span><span class="T4">: As of 11/12/08, I am not able to install system_timer gem. My work around is to comment it out in environment.rb:<br/><br/></span><span class="T5">#  config.gem 'SystemTimer', :lib =&gt; 'system_timer', :version =&gt; '1.0'<br/><br/></span><span class="T4">And in initializers/requires.rb:<br/><br/></span><span class="T5">#  require 'system_timer' # lib/rss_methods.rb<br/><br/></span><span class="T4">I am not able to get the latest version of hpricot installed. To work around that, I change the required version in environment.rb:<br/><br/></span><span class="T5">config.gem 'hpricot', :version =&gt; '0.6'#.161'</span></p><p class="P38">Merge the latest Luvfoo code from the master branch into another branch</p><p class="P32"><span class="T4">Now that you have the master branch running, you may want to pull down and develop on a different branch. At the command prompt where Luvfoo is running, press Ctrl + C to stop it.<br/><br/>Now pull down the branch from github:<br/><br/></span><span class="T5">git checkout --track -b &lt;name for local branch&gt; origin/&lt;name of remote branch&gt;</span><span class="T4"><br/><br/>For example:<br/><br/></span><span class="T5">git checkout --track -b yfh origin/yfh<br/><br/></span><span class="T4">Use git to </span><a href="http://www.kernel.org/pub/software/scm/git/docs/git-merge.html"><span class="Internet_20_link"><span class="T13">merge</span></span></a><span class="T4"> updates from the master branch into the branch you just checked out:<br/>  <br/></span><span class="T5">git merge master<br/><br/></span><span class="T4">Now try running the updated branch of Luvfoo to make sure all is well:<br/><br/></span><span class="T5">ruby script/server webrick </span></p><p class="P38">Run the Luvfoo tests</p><p class="P32"><span class="T4">To run all of the luvfoo tests:<br/><br/>rake test<br/><br/>To run just the unit, functional, or integration tests:<br/><br/>rake test:units<br/>rake test:functionals<br/>rake test:integration<br/><br/>To run a single test script:<br/><br/>ruby &lt;test script ruby file&gt;<br/><br/>For example:<br/><br/>ruby test/unit/user_test.rb<br/><br/>Each time you run a test the Rails environment is loaded and a clean database is set up. This takes significant time. To avoid this startup time, you can run the tests continuously using autotest:<br/><br/>autotest<br/><br/>When running autotest relevant tests are automatically re-run whenever you change a file.<br/><br/>For more information on Rails testing and autotest, and shoulda (the testing framework that Luvfoo uses) see </span><a href="http://manuals.rubyonrails.com/read/chapter/20"><span class="Internet_20_link"><span class="T13">A Guide to Testing the Rails</span></span></a><span class="T4">, </span><a href="http://ph7spot.com/articles/getting_started_with_autotest"><span class="Internet_20_link"><span class="T13">Getting started with Autotest</span></span></a><span class="T4">, and </span><a href="http://www.thoughtbot.com/projects/shoulda"><span class="Internet_20_link"><span class="T13">Shoulda testing</span></span></a><span class="T4">.</span></p><p class="P38">Set up an Aptana Studio project for working on Luvfoo</p><p class="P39">In order to work on Luvfoo in Aptana Studio, you will want to create a project for it.</p><p class="P39"> </p><ol><li><p class="P10" style="margin-left:1.27cm;"><span class="" style="display:block;float:left;min-width:0cm;">1.</span>Run Aptana <span class="odfLiEnd"/> </p></li><li><p class="P17" style="margin-left:1.27cm;"><span class="" style="display:block;float:left;min-width:0cm;">2.</span>Choose File, Project, New. <span class="odfLiEnd"/> </p></li><li><p class="P17" style="margin-left:1.27cm;"><span class="" style="display:block;float:left;min-width:0cm;">3.</span>Choose Rails Project from the Rails folder. <span class="odfLiEnd"/> </p></li><li><p class="P17" style="margin-left:1.27cm;"><span class="" style="display:block;float:left;min-width:0cm;">4.</span>Uncheck the "Use default location" checkbox. <span class="odfLiEnd"/> </p></li><li><p class="P17" style="margin-left:1.27cm;"><span class="" style="display:block;float:left;min-width:0cm;">5.</span>Specify the path to where you checked out Luvfoo with git (e.g. C:/Documents and Settings/Joel/My Documents/projects/luvfoo). <span class="odfLiEnd"/> </p></li><li><p class="P17" style="margin-left:1.27cm;"><span class="" style="display:block;float:left;min-width:0cm;">6.</span>Specify a name for your project (e.g. yfh). <span class="odfLiEnd"/> </p></li><li><p class="P17" style="margin-left:1.27cm;"><span class="" style="display:block;float:left;min-width:0cm;">7.</span>Uncheck the "Generate Rails application skeleton", "Create a WEBrick server" and "Create a Mongrel server" options. <span class="odfLiEnd"/> </p></li><li><p class="P22" style="margin-left:1.27cm;"><span class="" style="display:block;float:left;min-width:0cm;">8.</span>Click Finish.<span class="odfLiEnd"/> </p></li></ol><p class="P34"><br/>The project will be set up and its contents will be displayed in the Ruby Explorer on the left side panel. <br/><br/>Note: Aptana Studio comes with powerful recursive search functionality that can help you find things in Luvfoo. To use it, select the parent folder of the files you want to search in the Ruby Explorer, and then choose "File" from the "Search" menu.<br/><br/>Note: Aptana Studio is very configurable, but by default all files are considered to be ANSI encoded. This means that if you open a UTF8 encoded file or file containing special characters (such as Turkish) in it, the characters will not be displayed correctly. In Luvfoo, this applies especially to the .po translation files. To overcome this problem you can edit those files in a different editor (such as Notepad or poedit), or you can explicitly specify the encoding that Aptana Studio should consider the files to be. To change what encoding Aptana Studio should use for a file, right click on the file and choose Properties from the context sensitive menu. Then choose the "Other" Text file encoding option and select UTF-8, or another appropriate encoding scheme. Close and reopen the file if you already have it open.</p><p class="P38">Update translation files</p><p class="P2"><span class="T4">If the branch that you are working on uses a language other than English, you may need to add or update translation strings. If the branch has been updated and added / changed strings to be translated, you need to make sure you have the latest strings to be translated. If the branch has not changed, but you just want to change the translation, you can just change the existing translation files.<br/><br/></span><span class="T3">Make sure you have the latest strings to be translated</span><span class="T4"><br/><br/>Use rake to generate a new GetText translation template file (/po/luvfoo.pot):<br/><br/></span><span class="T5">rake updatepo<br/><br/></span><span class="T4">Next use GetText's msgmerge utility to merge the updated luvfoo.pot into the the language file for the translation used for your branch:<br/><br/></span><span class="T5">msgmerge &lt;pot file&gt; &lt;po file that needs to be updated&gt; -o &lt;name for new po file&gt;<br/><br/></span><span class="T4">For example:<br/></span><span class="T5"><br/>msgmerge /po/luvfoo.pot /po/yfh-tr/luvfoo.po -o /po/yfh-tr/luvfoo.new.po<br/><br/></span><span class="T4">Back up the old po file and rename the location of the one used by luvfoo:<br/><br/></span><span class="T5">sudo mv /po/yfh-tr/luvfoo.po /po/yfh-tr/luvfoo.backup.po<br/>sudo mv /po/yfh-tr/luvfoo.new.po /po/yfh-tr/luvfoo.po  </span><span class="T4"><br/><br/></span><span class="T3">Update a translation file</span><span class="T4"><br/><br/>Open the po file (e.g. </span><span class="T5">po/yfh-tr/luvfoo.po) </span><span class="T4">in Notepad or a po utiity such as </span><a href="http://www.poedit.net/"><span class="Internet_20_link"><span class="T13">poedit</span></span></a><span class="T4">. Add translations for any new messages that don't have one. In an editor, you can find these by searching for: msgstr "".<br/><br/>Now use rake to compile the po (text) file into a format that can be used by GetText (and luvfoo):<br/><br/></span><span class="T5">rake makemo <br/></span><span class="T4"><br/>This compiles the translation file to:<br/><br/>locale/yfh-tr/luvfoo.mo<br/><br/>To test, your translation file, open or refresh the pages where the translation is used in your web browser. If you are running WEBrick in development mode, you should not need to restart it to see the updated translations. <br/><br/>Once you have modified a translation file, you need to copy it up to the server and put it in the correct place. You can do this either by using Capistrano to deploy a new copy of Luvfoo as described in the deploy section of this document, or by copying up just the translation file.</span></p><ol><li><p class="P11" style="margin-left:1.27cm;"><span class="" style="display:block;float:left;min-width:0cm;">1.</span>Connect to the server with WinSCP. <span class="odfLiEnd"/> </p></li><li><p class="P18" style="margin-left:1.27cm;"><span class="" style="display:block;float:left;min-width:0cm;">2.</span>Copy the file to your home directory. <span class="odfLiEnd"/> </p></li><li><p class="P18" style="margin-left:1.27cm;"><span class="" style="display:block;float:left;min-width:0cm;">3.</span>SSH into the server. <span class="odfLiEnd"/> </p></li><li><p class="P24" style="margin-left:1.27cm;"><span class="" style="display:block;float:left;min-width:0cm;">4.</span>Copy the file to the deployment directory:<br/><span style="margin-left:0cm"/><br/><span style="margin-left:0cm"/>sudo cp luvfoo.mo /var/www/ozmozr/current/locale/yfh-tr/<span class="odfLiEnd"/> </p></li><li><p class="P24" style="margin-left:1.27cm;"><span class="" style="display:block;float:left;min-width:0cm;">5.</span>Change to the luvfoo current directory:<br/><span style="margin-left:0cm"/><br/><span style="margin-left:0cm"/>cd /var/www/ozmozr/current/<span class="odfLiEnd"/> </p></li><li><p class="P23" style="margin-left:1.27cm;"><span class="" style="display:block;float:left;min-width:0cm;">6.</span>Restart luvfoo:<br/><span style="margin-left:0cm"/><br/><span style="margin-left:0cm"/>sudo mongrel_rails cluster::restart<span class="odfLiEnd"/> </p></li></ol><p class="P38">Commit changes to a Luvfoo branch</p><p class="P32"><span class="T4">In order to deploy updates, first commit your changes to your local repository, and then push them up to github. The gui provided with git can be helpful for reviewing and committing changes:<br/><br/></span><span class="T5">git gui<br/><br/></span><span class="T4">Select the changed or added files and click Ctrl + T to stage them for committing. Then type a message describing the commit, and click the </span><span class="T8">Commit</span><span class="T4"> button. It is a good idea to create commits that group related changes.</span></p><p class="P38">Push Luvfoo changes to github </p><p class="P2"><span class="T4">After you commit changes to your local repository, you can push those changes up to github so they can be pulled down to your production server. If you are still in git gui, do this by clicking the </span><span class="T8">Push</span><span class="T4"> button. </span></p><p class="P33"><p> </p></p><p class="P38">Deploy</p><p class="P38">Generate a private / public key pair and copy your public key to the remote server </p><p class="P3">Capistrano uses ssh to connect to a linux server to deploy Luvfoo. In order to for this secure connection to occur, you need to set create a private / public key pair on your computer and copy the public key up to the remote server.</p><ol><li><p class="P25" style="margin-left:1.27cm;"><span class="" style="display:block;float:left;min-width:0cm;">1.</span>Go to a command prompt.<span class="odfLiEnd"/> </p></li></ol><p class="P38">Deploy Luvfoo to the remote server</p><p class="P32"><span class="T4">Once Capistrano is set up, deploying Luvfoo is as simple as going to the root of Luvfoo at the MINGW32 command prompt and running:<br/></span><span class="T5"><br/>cap deploy</span><span class="T4"><br/><br/>Watch the messages it spits out and cross your fingers. Depending on how you have things configured, it may prompt you for the sudo password so it can restart mongrel.<br/><br/>If an error occurs, Capistrano should automatically roll back the deployment and leave you at the state it was in before the deployment was attempted. If you need to manually roll back a deployment:<br/><br/>cap deploy:rollback<br/><br/>When you run cap deploy, it executes the Capfile script located in the current directory. For Rails projects, this file typically just executes config/deploy.rb script.<br/><br/>To see all tasks available via Capistrano:<br/><br/>cap -Tv<br/><br/>Capistrano uses the following directory structure on the server to deploy applications:<br/><br/>&lt;containing folder&gt;<br/>&lt;containing folder&gt;/shared              <br/>&lt;containing folder&gt;/current (symbolic link)<br/>&lt;containing folder&gt;/current/&lt;project files&gt;<br/>&lt;containing folder&gt;/releases<br/>&lt;containing folder&gt;/releases/&lt;timestamp&gt;/&lt;project files&gt;<br/><br/>For example:<br/><br/>/var/www/ozmozr/<br/>/var/www/ozmozr/shared/<br/>/var/www/ozmozr/current/<br/></span><span class="T4">/var/www/ozmozr/current/app/ (and so on)<br/>/var/www/ozmozr/releases/200805032003<br/>/var/www/ozmozr/releases/200805032003/app (and so on)<br/><br/>&lt;containing folder&gt;/shared              <br/>This is where shared files that aren't replaced each time you deploy. For example config/global_config.yml and config/initializers/mail.rb As part of deploying an application, Capistrano sets up symbolic links from these files to the locations where they need to appear underneath the current folder where the application is run from.<br/><br/>&lt;containing folder&gt;/current<br/>This is a symbolic link to a specific release folder (e.g. /var/www/ozmozr/releases/200805032003)<br/><br/>For more information on Capistrano see the </span><a href="http://www.capify.org/"><span class="Internet_20_link"><span class="T13">Capistrano project website</span></span></a><span class="T4">.</span></p><p class="P38">Diagnose and fix problems on the server </p><p class="P34">If Luvfoo doesn't start up, you can tail the production.log to see if it provides any clues about what is happening.<br/><br/>tail -F logs/production.log<br/><br/>To verify that Luvfoo is running you can check to see that the Rails server is up and running. If it is mongrel:<br/><br/>sudo ps -ef|grep mongrel<br/><br/>You can also look at the processes:<br/><br/>top<br/><br/>Then press Ctrl+M to sort processes by how much memory they are using.</p><p class="P38">Restart mongrel </p><p class="P1">Sometimes you may need to restart mongrel. Go to the current folder and run:<br/><br/>sudo mongrel_rails cluster::restart<br/><br/>To just stop or start mongrel:<br/><br/>sudo mongrel_rails cluster::stop<br/>sudo mongrel_rails cluster::start<br/><br/>Of course if mongrel gets fiesty and won't shut down, there is always:<br/><br/>sudo kill -9 &lt;process id&gt;<br/><br/>To find out the process id for mongrel, use: <br/><br/>sudo ps -ef|grep mongrel</p></body></html>